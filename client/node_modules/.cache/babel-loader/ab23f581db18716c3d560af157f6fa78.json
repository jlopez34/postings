{"ast":null,"code":"var _jsxFileName = \"/home/momo/Documentos/segware/react/client/src/post/PostList.js\";\nimport React, { Component } from \"react\";\nimport { Button, ButtonGroup, Container, Table } from \"reactstrap\";\nimport AppNavbar from '../AppNavbar';\nimport { Link } from \"react-router-dom\";\n\nclass PostList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      posts: [],\n      isLoading: true\n    };\n    this.remove = this.remove.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState({\n      isLoading: true\n    });\n    fetch('/postings/').then(response => response.json()).then(data => this.setState({\n      posts: data,\n      isLoading: false\n    }));\n  }\n\n  async remove(id) {\n    await fetch(\"/postings/\".concat(id), {\n      method: 'DELETE',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      }\n    }).then(() => {\n      let updatedPost = [...this.state.posts].filter(post => post.id !== id);\n      this.setState({\n        posts: updatedPost\n      });\n    });\n  }\n\n  render() {\n    const _this$state = this.state,\n          posts = _this$state.posts,\n          isLoading = _this$state.isLoading;\n\n    if (isLoading) {\n      return React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, \"Loading...\");\n    }\n\n    const postList = posts.map(post => {\n      const title = \"\".concat(post.title || '');\n      return React.createElement(\"tr\", {\n        key: post.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, React.createElement(Button, {\n        size: \"sm\",\n        color: \"info\",\n        tag: Link,\n        to: \"/postings/\" + post.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, post.likes), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }), React.createElement(Button, {\n        size: \"sm\",\n        color: \"danger\",\n        onClick: () => this.remove(post.id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, post.unlikes)), React.createElement(\"td\", {\n        style: {\n          whiteSpace: 'nowrap'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, title), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, post.comments), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(ButtonGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(Button, {\n        size: \"sm\",\n        color: \"primary\",\n        tag: Link,\n        to: \"/postings/\" + post.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, \"Edit\"), React.createElement(Button, {\n        size: \"sm\",\n        color: \"secondary\",\n        onClick: () => this.remove(post.id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, \"Delete\"))));\n    });\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(AppNavbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }), React.createElement(Container, {\n      fluid: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"float-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(Button, {\n      color: \"success\",\n      tag: Link,\n      to: \"/posting/new\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"Add Post\")), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"Posting List...\"), React.createElement(Table, {\n      className: \"mt-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      width: \"2%\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }), React.createElement(\"th\", {\n      width: \"10%\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"Title\"), React.createElement(\"th\", {\n      width: \"20%\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Comments\"), React.createElement(\"th\", {\n      width: \"5%\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"Actions\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, postList))));\n  }\n\n}\n\nexport default PostList;","map":{"version":3,"sources":["/home/momo/Documentos/segware/react/client/src/post/PostList.js"],"names":["React","Component","Button","ButtonGroup","Container","Table","AppNavbar","Link","PostList","constructor","props","state","posts","isLoading","remove","bind","componentDidMount","setState","fetch","then","response","json","data","id","method","headers","updatedPost","filter","post","render","postList","map","title","likes","unlikes","whiteSpace","comments"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Button, ButtonGroup, Container, Table } from \"reactstrap\";\nimport AppNavbar from '../AppNavbar';\nimport { Link } from \"react-router-dom\";\n\nclass PostList extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { posts: [], isLoading: true };\n        this.remove = this.remove.bind(this);\n    }\n\n    componentDidMount() {\n        this.setState({ isLoading: true });\n\n        fetch('/postings/')\n            .then(response => response.json())\n            .then(data => this.setState({ posts: data, isLoading: false }));\n    }\n\n    async remove(id) {\n        await fetch(`/postings/${id}`, {\n            method: 'DELETE',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            }\n        }).then(() => {\n            let updatedPost = [...this.state.posts].filter(post => post.id !== id);\n            this.setState({ posts: updatedPost });\n        });\n    }\n\n    render() {\n        const { posts, isLoading } = this.state;\n\n        if (isLoading) {\n            return <p>Loading...</p>\n        }\n\n        const postList = posts.map(post => {\n            const title = `${post.title || ''}`;\n            return <tr key={post.id}>\n                <td>\n                    <Button size=\"sm\" color=\"info\" tag={Link} to={\"/postings/\" + post.id}>{post.likes}</Button><span></span>\n                    <Button size=\"sm\" color=\"danger\" onClick={() => this.remove(post.id)}>{post.unlikes}</Button>\n                </td>\n                <td style={{ whiteSpace: 'nowrap' }}>{title}</td>\n                <td>{post.comments}</td>\n                <td><ButtonGroup>\n                    <Button size=\"sm\" color=\"primary\" tag={Link} to={\"/postings/\" + post.id}>Edit</Button>\n                    <Button size=\"sm\" color=\"secondary\" onClick={() => this.remove(post.id)}>Delete</Button>\n                </ButtonGroup></td>\n            </tr>\n        });\n\n        return (\n            <div>\n                <AppNavbar />\n                <Container fluid>\n                    <div className=\"float-right\">\n                        <Button color=\"success\" tag={Link} to=\"/posting/new\">Add Post</Button>\n                    </div>\n                    <h3>Posting List...</h3>\n                    <Table className=\"mt-4\">\n                        <thead>\n                            <tr>\n                                <th width=\"2%\"></th>\n                                <th width=\"10%\">Title</th>\n                                <th width=\"20%\">Comments</th>\n                                <th width=\"5%\">Actions</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {postList}\n                        </tbody>\n                    </Table>\n                </Container>\n            </div>\n        );\n\n    }\n\n}\n\nexport default PostList;"]},"metadata":{},"sourceType":"module"}